<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
    <title>electron-node-getmac</title>
</head>

<body>
    <!-- <script src="http://injection/cordova.js?v=25" type="text/javascript" charset="UTF-8"></script>
    <script src="http://injection/www/cordova.js?v=25" type="text/javascript" charset="UTF-8"></script> -->
    <script type="text/javascript" src="cordova.js?v=30"></script>
    <script type="text/javascript" src="cordova_plugins.js?v=30"></script>
<!--     <script type="text/javascript" src="js/index.js?v=41"></script> -->
    <!-- 页面视图-->
    <button id="cameraGetPicture">GET PICTURE</button>
    <button id="cameraTakePicture">TAKE PICTURE</button>
    <!-- <button id="openBrowser">openBrowser本地打开</button> -->
    <!-- <a href="#" class="btn" onclick="scanCode();">Scan Code</a> -->
    <!-- <a href="http://10.68.214.46:7068/#/login">app</a>
    <a href="https://screen.51240.com/#welcome">分辨率</a> -->
    <a href="http://10.200.188.110:9998/index.html">本地test1</a>
    <!-- <a href="http://www.qq.com">QQ首页</a> -->
    <img id="myImage"></img>
    <span id="sfff"></span>
    <!-- <iframe width="100%" height="100%" src="http://10.200.148.88:8080">

    </iframe> -->


</body>
<script type="text/javascript">

var app = {
    // Application Constructor
    initialize: function() {
      document.addEventListener('deviceReady', this.onDeviceReady.bind(this), false);//

    },


    onDeviceReady: function() {
        this.receivedEvent('deviceready');
    },

    // Update DOM on a Received Event
    receivedEvent: function(id) { // 所有事件绑定在这里！！！

        // document.getElementById("openBrowser").addEventListener("click", openBrowser);
        document.getElementById("cameraTakePicture").addEventListener("click", cameraTakePicture);
        document.getElementById("cameraGetPicture").addEventListener("click", cameraGetPicture);
        
        window.location.href = "http://gmes-dev-dma.test.geely.com/gclient-pad/#/pqs/defectsCapture"

    }
};

app.initialize();


function cameraTakePicture() {
 

}
function cameraGetPicture() {
    navigator.camera.getPicture(onSuccess, onFail, {
        quality: 50,
        destinationType: Camera.DestinationType.DATA_URL,
        sourceType: Camera.PictureSourceType.PHOTOLIBRARY
    });

    function onSuccess(imageURL) {
      document.getElementById('sfff').innerHTML += '(('+imageURL+'))';
      // alert('ddddddddddd----'+imageURL);
        var image = document.getElementById('myImage');
        image.src = imageURL;
    }

    function onFail(message) {
      document.getElementById('sfff').innerHTML += '((Failed because: '+message+'))';
        // alert('Failed because: ' + message);
    }

}


</script>
</html>
